from django.core.management.base import BaseCommand
from mapapp.models import Country

class Command(BaseCommand):
    help = 'Updates country coordinates in the database'

    def handle(self, *args, **kwargs):
        # Dictionary of country coordinates (latitude, longitude)
        country_coordinates = {
            'Poland': (51.9194, 19.1451),
            'France': (46.2276, 2.2137),
            'United Kingdom': (55.3781, -3.4360),
            'Germany': (51.1657, 10.4515),
            'Soviet Union': (61.5240, 105.3188),
            'Japan': (36.2048, 138.2529),
            'United States': (37.0902, -95.7129),
            'Italy': (41.8719, 12.5674),
            'Netherlands': (52.1326, 5.2913),
            'Belgium': (50.8503, 4.3517),
            'Denmark': (56.2639, 9.5018),
            'Norway': (60.4720, 8.4689),
            'Sweden': (60.1282, 18.6435),
            'Finland': (61.9241, 25.7482),
            'Estonia': (58.5953, 25.0136),
            'Latvia': (56.8796, 24.6032),
            'Lithuania': (55.1694, 23.8813),
            'Czechoslovakia': (49.8175, 15.4730),
            'Austria': (47.5162, 14.5501),
            'Hungary': (47.1625, 19.5033),
            'Romania': (45.9432, 24.9668),
            'Bulgaria': (42.7339, 25.4858),
            'Greece': (39.0742, 21.8243),
            'Yugoslavia': (44.0165, 21.0059),
            'Albania': (41.1533, 20.1683),
            'Turkey': (38.9637, 35.2433),
            'Spain': (40.4637, -3.7492),
            'Portugal': (39.3999, -8.2245),
            'Switzerland': (46.8182, 8.2275),
            'Ireland': (53.1424, -7.6921),
            'Iceland': (64.9631, -19.0208),
            'Luxembourg': (49.8153, 6.1296),
            'Liechtenstein': (47.1660, 9.5554),
            'Monaco': (43.7384, 7.4246),
            'San Marino': (43.9424, 12.4578),
            'Vatican City': (41.9029, 12.4534),
            'Malta': (35.9375, 14.3754),
            'Cyprus': (35.1264, 33.4299),
            'Egypt': (26.8206, 30.8025),
            'Libya': (26.3351, 17.2283),
            'Tunisia': (33.8869, 9.5375),
            'Algeria': (28.0339, 1.6596),
            'Morocco': (31.7917, -7.0926),
            'Syria': (34.8021, 38.9968),
            'Lebanon': (33.8547, 35.8623),
            'Israel': (31.0461, 34.8516),
            'Jordan': (30.5852, 36.2384),
            'Iraq': (33.2232, 43.6793),
            'Iran': (32.4279, 53.6880),
            'Afghanistan': (33.9391, 67.7100),
            'Pakistan': (30.3753, 69.3451),
            'India': (20.5937, 78.9629),
            'China': (35.8617, 104.1954),
            'Mongolia': (46.8625, 103.8467),
            'Korea': (35.9078, 127.7669),
            'Philippines': (12.8797, 121.7740),
            'Indonesia': (0.7893, 113.9213),
            'Malaysia': (4.2105, 101.9758),
            'Singapore': (1.3521, 103.8198),
            'Thailand': (15.8700, 100.9925),
            'Vietnam': (14.0583, 108.2772),
            'Laos': (19.8563, 102.4955),
            'Cambodia': (12.5657, 104.9910),
            'Myanmar': (21.9162, 95.9560),
            'Bangladesh': (23.6850, 90.3563),
            'Nepal': (28.3949, 84.1240),
            'Bhutan': (27.5142, 90.4336),
            'Sri Lanka': (7.8731, 80.7718),
            'Maldives': (3.2028, 73.2207),
            'Australia': (25.2744, 133.7751),
            'New Zealand': (40.9006, 174.8860),
            'Papua New Guinea': (6.3150, 143.9555),
            'Fiji': (16.5782, 179.4144),
            'Solomon Islands': (9.6457, 160.1562),
            'Vanuatu': (15.3767, 166.9592),
            'Samoa': (13.7590, 172.1046),
            'Tonga': (21.1790, 175.1982),
            'Canada': (56.1304, -106.3468),
            'Mexico': (23.6345, -102.5528),
            'Cuba': (21.5218, -77.7812),
            'Jamaica': (18.1096, -77.2975),
            'Haiti': (18.9712, -72.2852),
            'Dominican Republic': (18.7357, -70.1627),
            'Puerto Rico': (18.2208, -66.5901),
            'Bahamas': (25.0343, -77.3963),
            'Bermuda': (32.3078, -64.7505),
            'Brazil': (14.2350, -51.9253),
            'Argentina': (38.4161, -63.6167),
            'Chile': (35.6751, -71.5430),
            'Peru': (9.1900, -75.0152),
            'Colombia': (4.5709, -74.2973),
            'Venezuela': (6.4238, -66.5897),
            'Ecuador': (1.8312, -78.1834),
            'Bolivia': (16.2902, -63.5887),
            'Paraguay': (23.4425, -58.4438),
            'Uruguay': (32.5228, -55.7658),
            'Guyana': (4.8604, -58.9302),
            'Suriname': (3.9193, -56.0278),
            'French Guiana': (3.9339, -53.1258),
            'South Africa': (30.5595, 22.9375),
            'Namibia': (22.9576, 18.4904),
            'Botswana': (22.3285, 24.6849),
            'Zimbabwe': (19.0154, 29.1549),
            'Mozambique': (18.6657, 35.5296),
            'Zambia': (13.1339, 27.8493),
            'Malawi': (13.2543, 34.3015),
            'Tanzania': (6.3690, 34.8888),
            'Kenya': (0.0236, 37.9062),
            'Uganda': (1.3733, 32.2903),
            'Ethiopia': (9.1450, 40.4897),
            'Somalia': (5.1521, 46.1996),
            'Djibouti': (11.8251, 42.5903),
            'Eritrea': (15.1794, 39.7823),
            'Sudan': (12.8628, 30.2176),
            'South Sudan': (6.8770, 31.3070),
            'Central African Republic': (6.6111, 20.9394),
            'Cameroon': (7.3697, 12.3547),
            'Nigeria': (9.0820, 8.6753),
            'Niger': (17.6078, 8.0817),
            'Chad': (15.4542, 18.7322),
            'Mali': (17.5707, -3.9962),
            'Burkina Faso': (12.2383, -1.5616),
            'Senegal': (14.7167, -17.4677),
            'Gambia': (13.4432, -15.3101),
            'Guinea-Bissau': (11.8037, -15.1804),
            'Guinea': (9.9456, -9.6966),
            'Sierra Leone': (8.4606, -11.7799),
            'Liberia': (6.4281, -9.4295),
            'Ivory Coast': (7.5400, -5.5471),
            'Ghana': (7.9465, -1.0232),
            'Togo': (8.6195, 0.8248),
            'Benin': (9.3077, 2.3158),
            'Gabon': (0.8037, 11.6094),
            'Republic of the Congo': (0.2280, 15.8277),
            'Democratic Republic of the Congo': (4.0383, 21.7587),
            'Angola': (11.2027, 17.8739),
            'Burundi': (3.3731, 29.9189),
            'Rwanda': (1.9403, 29.8739),
            'Comoros': (11.6455, 43.3333),
            'Mauritius': (20.3484, 57.5522),
            'Seychelles': (4.6796, 55.4920),
            'Madagascar': (18.7669, 46.8691),
            'Cape Verde': (16.5388, -23.0418),
            'São Tomé and Príncipe': (0.1864, 6.6131),
            'Equatorial Guinea': (1.6508, 10.2679),
        }

        updated_count = 0
        for country in Country.objects.all():
            if country.name_en in country_coordinates:
                lat, lng = country_coordinates[country.name_en]
                country.latitude = lat
                country.longitude = lng
                country.save()
                updated_count += 1
                self.stdout.write(f"Updated coordinates for {country.name_en}")
            else:
                self.stdout.write(self.style.WARNING(f"No coordinates found for {country.name_en}"))

        self.stdout.write(self.style.SUCCESS(f"Successfully updated coordinates for {updated_count} countries")) 